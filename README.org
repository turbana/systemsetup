#+TITLE: System Setup
#+STARTUP: content

Provide complete workstation provisioning through ansible.

To bootstrap from a fresh Debian install run the following as root:
#+BEGIN_SRC shell :tangle no
  wget -q https://raw.githubusercontent.com/turbana/systemsetup/master/bootstrap.sh && sh bootstrap.sh
#+END_SRC

* Todo
** TODO google chrome
** TODO emacs from source
** TODO spacemacs
** TODO etc git
** TODO custom symlinks
** TODO hostname
** TODO auto login

* Initial
local.yml
#+BEGIN_SRC yaml :tangle local.yml
  - hosts: localhost
    become: true
    pre_tasks:
      # XXX skip updating repos while testing
      # - name: update repositories
      #   apt: update_cache=yes
      #   changed_when: False

    tasks:
      - include: tasks/packages.yml
#+END_SRC

* Tasks
** Packages
tasks/packages.yml
*** System
#+BEGIN_SRC yaml :tangle tasks/packages.yml
  - name: install system packages
    apt: name={{item}}
    with_items:
      - linux-headers-amd64
      - gcc
      - perl
#+END_SRC

*** Utility
#+BEGIN_SRC yaml :tangle tasks/packages.yml
  - name: install utility packages
    apt: name={{item}}
    with_items:
      - curl
      - screen
#+END_SRC

*** xmonad
#+BEGIN_SRC yaml :tangle tasks/packages.yml
  - name: install xmonad packages
    apt: name={{item}}
    with_items:
      - libx11-dev
      - libxrandr2
      - libxrandr-dev
      - ghc
      - xmonad
      - cabal-install
      - dmenu
      - dzen2
      - xclip
#+END_SRC

*** Google chrome
#+BEGIN_SRC yaml :tangle tasks/packages.yml
  - name: install google chrome packages
    apt: name={{item}}
    with_items:
      # - libgif-dev
      # - libgnutls28-dev
      # - google-chrome-stable
#+END_SRC

*** Python
#+BEGIN_SRC yaml :tangle tasks/packages.yml
  - name: install python packages
    apt: name={{item}}
    with_items:
      - python-pip
#+END_SRC
